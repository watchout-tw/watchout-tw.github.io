@import 'variables';
@import 'responsive';
@import 'typography';

* {
	box-sizing: border-box;
}

nav {
	width: 100%;
	height: $navHeight;
	position: fixed;
	top: 0;
	background: $woc;
}
#nav-space {
	height: $navHeight;
}
body > section {
	position: relative;
	> hgroup:first-child {
		padding: 1rem 0;
		background: rgba($woc, 0.25);
	}
	&#first-section > hgroup {
		padding: 0;
		background: none;
	}
	&#fertile-land > #stats > .stat {
		margin-top: 1rem;
		margin-bottom: 1rem;
		> .number-wrapper {
			display: block;
			margin: 0.5rem 0;
		}
		> .project-icon + .number-wrapper {
			margin-top: 0;
		}
		> p {
			margin: 0;
		}
	}
	&#support {
		padding-top: $navHeight; // to make space for nav while jumping
	}
	&#fertile-land {
		margin-bottom: -$navHeight; // to absorb that space
	}
}

.pop {
	background: $woc;
}
.prompt {
	box-sizing: content-box;
	display: block;
	color: $grey;
	width: 4em;
	padding: 10px;
	border: $borderWidth solid $grey;
	border-radius: $borderWidth;
	margin: 2rem auto 0.75rem;
}
.button {
	box-sizing: content-box;
	color: $orange;
	background: $lightGold;
	display: block;
	width: 4em;
	padding: 10px 12px;
	margin: 0 auto;
	box-shadow: $lightShadow;
	cursor: pointer;

	&:hover {
		background: $darkGold;
		box-shadow: $darkShadow;
	}
}
.divider {
	position: relative;
	border-top: $borderGreen;
	border-bottom: $borderGreen;
	@include medium-and-large-screen {
		border: $borderGreen;
		border-radius: $borderWidth;
	}
}
badge {
	box-sizing: content-box;
	display: block;
	color: $woc;
	width: 2em;
	padding: 8px 11px;
	border: $borderGreen;
	border-radius: 100%;
	margin: 0 auto;
	transform: rotate(-15deg);


}
.divider > badge {
	position: absolute;
	left: 50%;
	background: white;
	transform: translate(-50%, -50%) rotate(-15deg);
}
.support {
	box-sizing: content-box;
	display: block;
	color: $orange;
	width: 2em;
	background: $lightGold;
	padding: 16px 24px;
	border-radius: 100%;
	margin: 0 auto;
	transform: scale(0.8);
	box-shadow: $lightShadow;
	cursor: pointer;

	&:hover {
		background: $darkGold;
		box-shadow: $darkShadow;
	}
}

section#sm {
	padding: 3em 0;
	background: rgba($woc, 0.25);
}
#email {
	margin: 3em 0 1em;
	transform: rotate(-5deg);
	> span {
		padding: 0.25em 0.375em;
		background: $woc;
	}
}
#copyright {
	margin: 1em 0 5em;
	transform: rotate(3deg);
}

@mixin icon($width, $height, $background, $step, $keys) {
	display: block;
	width: $width;
	height: $height;
	background: url('../images/wo-august-2-' + $background + '.svg');
	background-size: 100%;
	margin: 0 auto;

	@for $i from 0 through length($keys)-1 {
	  &[key="#{nth($keys, $i+1)}"] {
	    background-position: unquote("0 ") -$i*$step; // shift window along Y
	  }
	}
}
.project-icon.small {
	@include icon(30px, 30px, 'project-logo-small', 30px, (國會無雙 給問 公民學院 立委出任務));
}
.payment-icon {
	@include icon(128px, 54px, 'monthly-payments', 64px, (100 300 500 1000));
}
.gift-icon {
	@include icon(128px, 118px, 'gifts', 128px, (certificate card newsletter present));
}
.bill-icon {
	@include icon(132px, 128px, 'mobile-bills', 128px, (voting callin achievement more));
	@include medium-and-large-screen {
		@include icon(192px, 128px, 'desktop-bills', 128px, (voting callin achievement more));
	}
}

#timeline > .event {
	margin: 1rem 0;
	> .event-dialog {
		width: 300px;
		margin: 0 auto;
		background: rgba(black, 0.05);
	}
	pgroup {
		margin: 0 auto 0.5rem;

		> p {
			line-height: $leadingTight;
		}
	}
	.url {
		background: $woc;
		padding: 8px;
		&:after {
			content: '→';
			display: inline-block;
			padding-left: 0.5em;
		}
	}
	.button.close {
		color: black;
		font-size: 1.5rem;
		background: rgba(black, 0.25);
		width: auto;
		padding: 6px 8px 10px;
		margin: 0;
		box-shadow: none;
	}
	.url, .button.close {
		display: inline-block;
		vertical-align: top;
		line-height: 1.5rem;
	}
}
